<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.4 (0)
 -->
<!-- Title: FlujoEventos Pages: 1 -->
<svg width="1477pt" height="1207pt"
 viewBox="0.00 0.00 1476.50 1207.18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 1171.18)">
<title>FlujoEventos</title>
<polygon fill="#fafafa" stroke="transparent" points="-36,36 -36,-1171.18 1440.5,-1171.18 1440.5,36 -36,36"/>
<text text-anchor="start" x="518.75" y="-1119.38" font-family="Arial, sans-serif" font-weight="bold" font-size="16.00">Eventos de Dominio &amp; Comunicación Asíncrona</text>
<text text-anchor="start" x="487.25" y="-1103.38" font-family="Arial, sans-serif" font-size="16.00"> &#160;&#160;&#160;</text>
<text text-anchor="start" x="506.25" y="-1103.38" font-family="Arial, sans-serif" font-style="italic" font-size="16.00">Arquitectura Dirigida por Eventos con Patrón BusEventos</text>
<text text-anchor="start" x="521.25" y="-1087.38" font-family="Arial, sans-serif" font-size="16.00"> &#160;&#160;&#160;</text>
<text text-anchor="start" x="540.25" y="-1087.38" font-family="Arial, sans-serif" font-size="10.00">Acoplamiento débil a través de eventos de dominio y procesamiento asíncrono</text>
<g id="clust1" class="cluster">
<title>cluster_events</title>
<polygon fill="#fff3e0" stroke="#f57c00" points="8,-585.04 8,-737.18 990,-737.18 990,-585.04 8,-585.04"/>
<text text-anchor="middle" x="499" y="-721.98" font-family="Arial, sans-serif" font-size="14.00" fill="#f57c00">📡 EVENTOS DE DOMINIO</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_handlers</title>
<polygon fill="#e8f5e8" stroke="#388e3c" points="25,-153.5 25,-276.5 1029,-276.5 1029,-153.5 25,-153.5"/>
<text text-anchor="middle" x="527" y="-261.3" font-family="Arial, sans-serif" font-size="14.00" fill="#388e3c">📬 MANEJADORES DE EVENTOS</text>
<text text-anchor="middle" x="527" y="-246.3" font-family="Arial, sans-serif" font-size="14.00" fill="#388e3c">(Procesamiento Asíncrono)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_publishers</title>
<polygon fill="#e3f2fd" stroke="#1976d2" points="51,-884.18 51,-985.18 755,-985.18 755,-884.18 51,-884.18"/>
<text text-anchor="middle" x="403" y="-969.98" font-family="Arial, sans-serif" font-size="14.00" fill="#1976d2">🏢 PUBLICADORES DE EVENTOS</text>
<text text-anchor="middle" x="403" y="-954.98" font-family="Arial, sans-serif" font-size="14.00" fill="#1976d2">(Casos de Uso)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_external</title>
<polygon fill="#f3e5f5" stroke="#7b1fa2" points="89,-8 89,-96.5 899,-96.5 899,-8 89,-8"/>
<text text-anchor="middle" x="494" y="-81.3" font-family="Arial, sans-serif" font-size="14.00" fill="#7b1fa2">🌐 SISTEMAS EXTERNOS</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_subscriptions</title>
<polygon fill="#fff8e1" stroke="#ffa000" points="774,-794.18 774,-1071.18 991,-1071.18 991,-794.18 774,-794.18"/>
<text text-anchor="middle" x="882.5" y="-1057.58" font-family="Arial, sans-serif" font-size="12.00" fill="#ffa000">🔔 SUSCRIPCIONES DE EVENTOS</text>
<text text-anchor="middle" x="882.5" y="-1044.58" font-family="Arial, sans-serif" font-size="12.00" fill="#ffa000">(Registro de Manejadores)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_patterns</title>
<polygon fill="#e8eaf6" stroke="#3f51b5" points="1010,-805.18 1010,-1047.18 1210,-1047.18 1210,-805.18 1010,-805.18"/>
<text text-anchor="middle" x="1110" y="-1033.58" font-family="Arial, sans-serif" font-size="12.00" fill="#3f51b5">🔄 PATRONES DE EVENTOS</text>
</g>
<!-- ProductoCreado -->
<g id="node1" class="node">
<title>ProductoCreado</title>
<ellipse fill="#ffb74d" stroke="black" cx="87" cy="-649.61" rx="71.34" ry="48.58"/>
<text text-anchor="middle" x="87" y="-669.11" font-family="Arial, sans-serif" font-size="10.00">🎉 ProductoCreado</text>
<text text-anchor="middle" x="87" y="-658.11" font-family="Arial, sans-serif" font-size="10.00">• idProducto</text>
<text text-anchor="middle" x="87" y="-647.11" font-family="Arial, sans-serif" font-size="10.00">• nombreProducto</text>
<text text-anchor="middle" x="87" y="-636.11" font-family="Arial, sans-serif" font-size="10.00">• precio</text>
<text text-anchor="middle" x="87" y="-625.11" font-family="Arial, sans-serif" font-size="10.00">• marcaTiempo</text>
</g>
<!-- BusEventos -->
<g id="node6" class="node">
<title>BusEventos</title>
<polygon fill="#ff9800" stroke="#f57c00" points="678.05,-385.98 678.05,-448.57 582.54,-492.83 447.46,-492.83 351.95,-448.57 351.95,-385.98 447.46,-341.72 582.54,-341.72 678.05,-385.98"/>
<polygon fill="none" stroke="#f57c00" points="682.05,-383.43 682.05,-451.11 583.42,-496.81 446.58,-496.81 347.95,-451.11 347.95,-383.43 446.58,-337.73 583.42,-337.73 682.05,-383.43"/>
<text text-anchor="middle" x="515" y="-450.97" font-family="Arial, sans-serif" font-size="11.00">🚌 BusEventos</text>
<text text-anchor="middle" x="515" y="-438.97" font-family="Arial, sans-serif" font-size="11.00">(BusEventosEnMemoria)</text>
<text text-anchor="middle" x="515" y="-413.97" font-family="Arial, sans-serif" font-size="11.00">• publicar(evento)</text>
<text text-anchor="middle" x="515" y="-401.97" font-family="Arial, sans-serif" font-size="11.00">• suscribir(nombreEvento, manejador)</text>
<text text-anchor="middle" x="515" y="-389.97" font-family="Arial, sans-serif" font-size="11.00">• manejadores: Map&lt;string, Manejador[]&gt;</text>
<text text-anchor="middle" x="515" y="-377.97" font-family="Arial, sans-serif" font-size="11.00">• procesamiento asíncrono</text>
</g>
<!-- ProductoCreado&#45;&gt;BusEventos -->
<g id="edge5" class="edge">
<title>ProductoCreado&#45;&gt;BusEventos</title>
<path fill="none" stroke="#ff9800" d="M137.81,-614.99C153.4,-605.03 170.74,-594.32 187,-585.04 252.45,-547.71 327.22,-509.38 388.82,-478.89"/>
<polygon fill="#ff9800" stroke="#ff9800" points="390.4,-482.02 397.82,-474.45 387.3,-475.74 390.4,-482.02"/>
<text text-anchor="middle" x="284" y="-542.84" font-family="Arial, sans-serif" font-size="9.00">publicar</text>
</g>
<!-- ProductoActualizado -->
<g id="node2" class="node">
<title>ProductoActualizado</title>
<ellipse fill="#ffb74d" stroke="black" cx="301" cy="-649.61" rx="84.71" ry="41.02"/>
<text text-anchor="middle" x="301" y="-663.61" font-family="Arial, sans-serif" font-size="10.00">📝 ProductoActualizado</text>
<text text-anchor="middle" x="301" y="-652.61" font-family="Arial, sans-serif" font-size="10.00">• idProducto</text>
<text text-anchor="middle" x="301" y="-641.61" font-family="Arial, sans-serif" font-size="10.00">• cambios</text>
<text text-anchor="middle" x="301" y="-630.61" font-family="Arial, sans-serif" font-size="10.00">• marcaTiempo</text>
</g>
<!-- ProductoActualizado&#45;&gt;BusEventos -->
<g id="edge6" class="edge">
<title>ProductoActualizado&#45;&gt;BusEventos</title>
<path fill="none" stroke="#ff9800" d="M335.15,-611.86C362.36,-582.57 401.55,-540.38 436.4,-502.87"/>
<polygon fill="#ff9800" stroke="#ff9800" points="439.07,-505.14 443.31,-495.43 433.94,-500.38 439.07,-505.14"/>
<text text-anchor="middle" x="418" y="-542.84" font-family="Arial, sans-serif" font-size="9.00">publicar</text>
</g>
<!-- StockCambiado -->
<g id="node3" class="node">
<title>StockCambiado</title>
<ellipse fill="#ffb74d" stroke="black" cx="515" cy="-649.61" rx="70.92" ry="56.64"/>
<text text-anchor="middle" x="515" y="-674.61" font-family="Arial, sans-serif" font-size="10.00">📦 StockCambiado</text>
<text text-anchor="middle" x="515" y="-663.61" font-family="Arial, sans-serif" font-size="10.00">• idProducto</text>
<text text-anchor="middle" x="515" y="-652.61" font-family="Arial, sans-serif" font-size="10.00">• stockAnterior</text>
<text text-anchor="middle" x="515" y="-641.61" font-family="Arial, sans-serif" font-size="10.00">• stockNuevo</text>
<text text-anchor="middle" x="515" y="-630.61" font-family="Arial, sans-serif" font-size="10.00">• tipoCambio</text>
<text text-anchor="middle" x="515" y="-619.61" font-family="Arial, sans-serif" font-size="10.00">• marcaTiempo</text>
</g>
<!-- StockCambiado&#45;&gt;BusEventos -->
<g id="edge7" class="edge">
<title>StockCambiado&#45;&gt;BusEventos</title>
<path fill="none" stroke="#ff9800" d="M515,-592.85C515,-567.13 515,-535.95 515,-507.11"/>
<polygon fill="#ff9800" stroke="#ff9800" points="518.5,-507.02 515,-497.02 511.5,-507.02 518.5,-507.02"/>
<text text-anchor="middle" x="532" y="-542.84" font-family="Arial, sans-serif" font-size="9.00">publicar</text>
</g>
<!-- UsuarioCreado -->
<g id="node4" class="node">
<title>UsuarioCreado</title>
<ellipse fill="#ffb74d" stroke="black" cx="712" cy="-649.61" rx="67.76" ry="48.58"/>
<text text-anchor="middle" x="712" y="-669.11" font-family="Arial, sans-serif" font-size="10.00">👤 UsuarioCreado</text>
<text text-anchor="middle" x="712" y="-658.11" font-family="Arial, sans-serif" font-size="10.00">• idUsuario</text>
<text text-anchor="middle" x="712" y="-647.11" font-family="Arial, sans-serif" font-size="10.00">• nombreUsuario</text>
<text text-anchor="middle" x="712" y="-636.11" font-family="Arial, sans-serif" font-size="10.00">• email</text>
<text text-anchor="middle" x="712" y="-625.11" font-family="Arial, sans-serif" font-size="10.00">• marcaTiempo</text>
</g>
<!-- UsuarioCreado&#45;&gt;BusEventos -->
<g id="edge8" class="edge">
<title>UsuarioCreado&#45;&gt;BusEventos</title>
<path fill="none" stroke="#ff9800" d="M677.01,-607.7C652.65,-579.21 619.25,-540.16 589.1,-504.92"/>
<polygon fill="#ff9800" stroke="#ff9800" points="591.49,-502.32 582.33,-496.99 586.17,-506.87 591.49,-502.32"/>
<text text-anchor="middle" x="642" y="-542.84" font-family="Arial, sans-serif" font-size="9.00">publicar</text>
</g>
<!-- UsuarioActivado -->
<g id="node5" class="node">
<title>UsuarioActivado</title>
<ellipse fill="#ffb74d" stroke="black" cx="910" cy="-649.61" rx="72.25" ry="33.47"/>
<text text-anchor="middle" x="910" y="-658.11" font-family="Arial, sans-serif" font-size="10.00">✅ UsuarioActivado</text>
<text text-anchor="middle" x="910" y="-647.11" font-family="Arial, sans-serif" font-size="10.00">• idUsuario</text>
<text text-anchor="middle" x="910" y="-636.11" font-family="Arial, sans-serif" font-size="10.00">• marcaTiempo</text>
</g>
<!-- UsuarioActivado&#45;&gt;BusEventos -->
<g id="edge9" class="edge">
<title>UsuarioActivado&#45;&gt;BusEventos</title>
<path fill="none" stroke="#ff9800" d="M868.99,-622.2C850.74,-610.61 828.92,-596.95 809,-585.04 751.39,-550.6 686.57,-513.64 632.48,-483.29"/>
<polygon fill="#ff9800" stroke="#ff9800" points="633.98,-480.12 623.55,-478.29 630.56,-486.23 633.98,-480.12"/>
<text text-anchor="middle" x="762" y="-542.84" font-family="Arial, sans-serif" font-size="9.00">publicar</text>
</g>
<!-- ManejadorNotificacion -->
<g id="node7" class="node">
<title>ManejadorNotificacion</title>
<polygon fill="#a5d6a7" stroke="black" points="188.5,-230.5 33.5,-230.5 33.5,-161.5 188.5,-161.5 188.5,-230.5"/>
<text text-anchor="middle" x="111" y="-215.5" font-family="Arial, sans-serif" font-size="10.00">📧 ManejadorNotificación</text>
<text text-anchor="middle" x="111" y="-204.5" font-family="Arial, sans-serif" font-size="10.00">• Enviar notificaciones por email</text>
<text text-anchor="middle" x="111" y="-193.5" font-family="Arial, sans-serif" font-size="10.00">• Notificaciones push</text>
<text text-anchor="middle" x="111" y="-182.5" font-family="Arial, sans-serif" font-size="10.00">• Alertas SMS</text>
<text text-anchor="middle" x="111" y="-171.5" font-family="Arial, sans-serif" font-size="10.00">• Llamadas webhook</text>
</g>
<!-- BusEventos&#45;&gt;ManejadorNotificacion -->
<g id="edge10" class="edge">
<title>BusEventos&#45;&gt;ManejadorNotificacion</title>
<path fill="none" stroke="#4caf50" stroke-dasharray="5,2" d="M389.69,-363.98C335.6,-339.72 272.4,-309.06 218,-276.5 198.28,-264.7 177.77,-250.09 160.03,-236.63"/>
<polygon fill="#4caf50" stroke="#4caf50" points="162.16,-233.85 152.09,-230.54 157.9,-239.4 162.16,-233.85"/>
<text text-anchor="middle" x="278.5" y="-287.3" font-family="Arial, sans-serif" font-size="9.00">notificar asínc.</text>
</g>
<!-- ManejadorAuditoria -->
<g id="node8" class="node">
<title>ManejadorAuditoria</title>
<polygon fill="#a5d6a7" stroke="black" points="397,-230.5 247,-230.5 247,-161.5 397,-161.5 397,-230.5"/>
<text text-anchor="middle" x="322" y="-215.5" font-family="Arial, sans-serif" font-size="10.00">📋 ManejadorAuditoría</text>
<text text-anchor="middle" x="322" y="-204.5" font-family="Arial, sans-serif" font-size="10.00">• Registrar todos los eventos</text>
<text text-anchor="middle" x="322" y="-193.5" font-family="Arial, sans-serif" font-size="10.00">• Crear pista de auditoría</text>
<text text-anchor="middle" x="322" y="-182.5" font-family="Arial, sans-serif" font-size="10.00">• Seguimiento de cumplimiento</text>
<text text-anchor="middle" x="322" y="-171.5" font-family="Arial, sans-serif" font-size="10.00">• Registros históricos</text>
</g>
<!-- BusEventos&#45;&gt;ManejadorAuditoria -->
<g id="edge11" class="edge">
<title>BusEventos&#45;&gt;ManejadorAuditoria</title>
<path fill="none" stroke="#4caf50" stroke-dasharray="5,2" d="M445.87,-337.73C416.31,-304.14 383.01,-266.31 358.39,-238.34"/>
<polygon fill="#4caf50" stroke="#4caf50" points="360.92,-235.92 351.68,-230.73 355.66,-240.54 360.92,-235.92"/>
<text text-anchor="middle" x="436.5" y="-287.3" font-family="Arial, sans-serif" font-size="9.00">registrar asínc.</text>
</g>
<!-- ManejadorAnalíticas -->
<g id="node9" class="node">
<title>ManejadorAnalíticas</title>
<polygon fill="#a5d6a7" stroke="black" points="575,-230.5 455,-230.5 455,-161.5 575,-161.5 575,-230.5"/>
<text text-anchor="middle" x="515" y="-215.5" font-family="Arial, sans-serif" font-size="10.00">📊 ManejadorAnalíticas</text>
<text text-anchor="middle" x="515" y="-204.5" font-family="Arial, sans-serif" font-size="10.00">• Actualizar estadísticas</text>
<text text-anchor="middle" x="515" y="-193.5" font-family="Arial, sans-serif" font-size="10.00">• Generar reportes</text>
<text text-anchor="middle" x="515" y="-182.5" font-family="Arial, sans-serif" font-size="10.00">• Rastrear KPIs</text>
<text text-anchor="middle" x="515" y="-171.5" font-family="Arial, sans-serif" font-size="10.00">• Métricas de negocio</text>
</g>
<!-- BusEventos&#45;&gt;ManejadorAnalíticas -->
<g id="edge12" class="edge">
<title>BusEventos&#45;&gt;ManejadorAnalíticas</title>
<path fill="none" stroke="#4caf50" stroke-dasharray="5,2" d="M515,-337.42C515,-304.87 515,-268.37 515,-240.75"/>
<polygon fill="#4caf50" stroke="#4caf50" points="518.5,-240.63 515,-230.63 511.5,-240.63 518.5,-240.63"/>
<text text-anchor="middle" x="544" y="-287.3" font-family="Arial, sans-serif" font-size="9.00">rastrear asínc.</text>
</g>
<!-- ManejadorCache -->
<g id="node10" class="node">
<title>ManejadorCache</title>
<polygon fill="#a5d6a7" stroke="black" points="790.5,-230.5 633.5,-230.5 633.5,-161.5 790.5,-161.5 790.5,-230.5"/>
<text text-anchor="middle" x="712" y="-215.5" font-family="Arial, sans-serif" font-size="10.00">💾 ManejadorCache</text>
<text text-anchor="middle" x="712" y="-204.5" font-family="Arial, sans-serif" font-size="10.00">• Invalidar datos en caché</text>
<text text-anchor="middle" x="712" y="-193.5" font-family="Arial, sans-serif" font-size="10.00">• Actualizar entradas de cache</text>
<text text-anchor="middle" x="712" y="-182.5" font-family="Arial, sans-serif" font-size="10.00">• Refrescar índices de búsqueda</text>
<text text-anchor="middle" x="712" y="-171.5" font-family="Arial, sans-serif" font-size="10.00">• Limpiar cache relacionado</text>
</g>
<!-- BusEventos&#45;&gt;ManejadorCache -->
<g id="edge13" class="edge">
<title>BusEventos&#45;&gt;ManejadorCache</title>
<path fill="none" stroke="#4caf50" stroke-dasharray="5,2" d="M585.01,-338.35C615.34,-304.59 649.61,-266.45 674.89,-238.3"/>
<polygon fill="#4caf50" stroke="#4caf50" points="677.7,-240.42 681.78,-230.64 672.49,-235.74 677.7,-240.42"/>
<text text-anchor="middle" x="662" y="-287.3" font-family="Arial, sans-serif" font-size="9.00">invalidar asínc.</text>
</g>
<!-- ManejadorIntegracion -->
<g id="node11" class="node">
<title>ManejadorIntegracion</title>
<polygon fill="#a5d6a7" stroke="black" points="1021,-230.5 849,-230.5 849,-161.5 1021,-161.5 1021,-230.5"/>
<text text-anchor="middle" x="935" y="-215.5" font-family="Arial, sans-serif" font-size="10.00">🔗 ManejadorIntegración</text>
<text text-anchor="middle" x="935" y="-204.5" font-family="Arial, sans-serif" font-size="10.00">• Sincronizar con sistemas externos</text>
<text text-anchor="middle" x="935" y="-193.5" font-family="Arial, sans-serif" font-size="10.00">• Integración ERP</text>
<text text-anchor="middle" x="935" y="-182.5" font-family="Arial, sans-serif" font-size="10.00">• APIs de terceros</text>
<text text-anchor="middle" x="935" y="-171.5" font-family="Arial, sans-serif" font-size="10.00">• Sincronización de datos</text>
</g>
<!-- BusEventos&#45;&gt;ManejadorIntegracion -->
<g id="edge14" class="edge">
<title>BusEventos&#45;&gt;ManejadorIntegracion</title>
<path fill="none" stroke="#4caf50" stroke-dasharray="5,2" d="M641.38,-364.3C697.25,-339.82 763.05,-308.9 820,-276.5 840.95,-264.58 862.95,-249.95 882.03,-236.5"/>
<polygon fill="#4caf50" stroke="#4caf50" points="884.18,-239.26 890.3,-230.62 880.12,-233.56 884.18,-239.26"/>
<text text-anchor="middle" x="840" y="-287.3" font-family="Arial, sans-serif" font-size="9.00">sincronizar asínc.</text>
</g>
<!-- ServicioEmail -->
<g id="node16" class="node">
<title>ServicioEmail</title>
<path fill="#ce93d8" stroke="black" d="M207,-60.8C207,-63.26 182.35,-65.25 152,-65.25 121.65,-65.25 97,-63.26 97,-60.8 97,-60.8 97,-20.7 97,-20.7 97,-18.24 121.65,-16.25 152,-16.25 182.35,-16.25 207,-18.24 207,-20.7 207,-20.7 207,-60.8 207,-60.8"/>
<path fill="none" stroke="black" d="M207,-60.8C207,-58.34 182.35,-56.34 152,-56.34 121.65,-56.34 97,-58.34 97,-60.8"/>
<text text-anchor="middle" x="152" y="-43.75" font-family="Arial, sans-serif" font-size="10.00">📬 Servicio Email</text>
<text text-anchor="middle" x="152" y="-32.75" font-family="Arial, sans-serif" font-size="10.00">(SendGrid/AWS SES)</text>
</g>
<!-- ManejadorNotificacion&#45;&gt;ServicioEmail -->
<g id="edge15" class="edge">
<title>ManejadorNotificacion&#45;&gt;ServicioEmail</title>
<path fill="none" stroke="#9c27b0" d="M120,-161.37C126.83,-135.81 136.2,-100.83 143.03,-75.29"/>
<polygon fill="#9c27b0" stroke="#9c27b0" points="146.49,-75.89 145.69,-65.33 139.73,-74.08 146.49,-75.89"/>
<text text-anchor="middle" x="161.5" y="-111.3" font-family="Arial, sans-serif" font-size="9.00">enviar emails</text>
</g>
<!-- BaseDatosAuditoria -->
<g id="node17" class="node">
<title>BaseDatosAuditoria</title>
<path fill="#ce93d8" stroke="black" d="M388.5,-60.8C388.5,-63.26 360.93,-65.25 327,-65.25 293.07,-65.25 265.5,-63.26 265.5,-60.8 265.5,-60.8 265.5,-20.7 265.5,-20.7 265.5,-18.24 293.07,-16.25 327,-16.25 360.93,-16.25 388.5,-18.24 388.5,-20.7 388.5,-20.7 388.5,-60.8 388.5,-60.8"/>
<path fill="none" stroke="black" d="M388.5,-60.8C388.5,-58.34 360.93,-56.34 327,-56.34 293.07,-56.34 265.5,-58.34 265.5,-60.8"/>
<text text-anchor="middle" x="327" y="-43.75" font-family="Arial, sans-serif" font-size="10.00">📊 Base Datos Auditoría</text>
<text text-anchor="middle" x="327" y="-32.75" font-family="Arial, sans-serif" font-size="10.00">(Almacén de Eventos)</text>
</g>
<!-- ManejadorAuditoria&#45;&gt;BaseDatosAuditoria -->
<g id="edge16" class="edge">
<title>ManejadorAuditoria&#45;&gt;BaseDatosAuditoria</title>
<path fill="none" stroke="#9c27b0" d="M323.1,-161.37C323.93,-135.93 325.06,-101.14 325.89,-75.63"/>
<polygon fill="#9c27b0" stroke="#9c27b0" points="329.4,-75.44 326.23,-65.33 322.41,-75.21 329.4,-75.44"/>
<text text-anchor="middle" x="364.5" y="-111.3" font-family="Arial, sans-serif" font-size="9.00">almacenar eventos</text>
</g>
<!-- PlataformaAnalíticas -->
<g id="node18" class="node">
<title>PlataformaAnalíticas</title>
<path fill="#ce93d8" stroke="black" d="M583,-60.8C583,-63.26 552.52,-65.25 515,-65.25 477.48,-65.25 447,-63.26 447,-60.8 447,-60.8 447,-20.7 447,-20.7 447,-18.24 477.48,-16.25 515,-16.25 552.52,-16.25 583,-18.24 583,-20.7 583,-20.7 583,-60.8 583,-60.8"/>
<path fill="none" stroke="black" d="M583,-60.8C583,-58.34 552.52,-56.34 515,-56.34 477.48,-56.34 447,-58.34 447,-60.8"/>
<text text-anchor="middle" x="515" y="-43.75" font-family="Arial, sans-serif" font-size="10.00">📈 Plataforma Analíticas</text>
<text text-anchor="middle" x="515" y="-32.75" font-family="Arial, sans-serif" font-size="10.00">(Google Analytics/Mixpanel)</text>
</g>
<!-- ManejadorAnalíticas&#45;&gt;PlataformaAnalíticas -->
<g id="edge17" class="edge">
<title>ManejadorAnalíticas&#45;&gt;PlataformaAnalíticas</title>
<path fill="none" stroke="#9c27b0" d="M515,-161.37C515,-135.93 515,-101.14 515,-75.63"/>
<polygon fill="#9c27b0" stroke="#9c27b0" points="518.5,-75.33 515,-65.33 511.5,-75.33 518.5,-75.33"/>
<text text-anchor="middle" x="549.5" y="-111.3" font-family="Arial, sans-serif" font-size="9.00">rastrear métricas</text>
</g>
<!-- SistemaCache -->
<g id="node19" class="node">
<title>SistemaCache</title>
<path fill="#ce93d8" stroke="black" d="M743,-60.8C743,-63.26 720.14,-65.25 692,-65.25 663.86,-65.25 641,-63.26 641,-60.8 641,-60.8 641,-20.7 641,-20.7 641,-18.24 663.86,-16.25 692,-16.25 720.14,-16.25 743,-18.24 743,-20.7 743,-20.7 743,-60.8 743,-60.8"/>
<path fill="none" stroke="black" d="M743,-60.8C743,-58.34 720.14,-56.34 692,-56.34 663.86,-56.34 641,-58.34 641,-60.8"/>
<text text-anchor="middle" x="692" y="-43.75" font-family="Arial, sans-serif" font-size="10.00">💾 Sistema Cache</text>
<text text-anchor="middle" x="692" y="-32.75" font-family="Arial, sans-serif" font-size="10.00">(Redis/Memcached)</text>
</g>
<!-- ManejadorCache&#45;&gt;SistemaCache -->
<g id="edge18" class="edge">
<title>ManejadorCache&#45;&gt;SistemaCache</title>
<path fill="none" stroke="#9c27b0" d="M707.61,-161.37C704.28,-135.81 699.71,-100.83 696.38,-75.29"/>
<polygon fill="#9c27b0" stroke="#9c27b0" points="699.84,-74.79 695.08,-65.33 692.9,-75.7 699.84,-74.79"/>
<text text-anchor="middle" x="735.5" y="-111.3" font-family="Arial, sans-serif" font-size="9.00">actualizar cache</text>
</g>
<!-- SistemaERP -->
<g id="node20" class="node">
<title>SistemaERP</title>
<path fill="#ce93d8" stroke="black" d="M891,-60.8C891,-63.26 870.83,-65.25 846,-65.25 821.17,-65.25 801,-63.26 801,-60.8 801,-60.8 801,-20.7 801,-20.7 801,-18.24 821.17,-16.25 846,-16.25 870.83,-16.25 891,-18.24 891,-20.7 891,-20.7 891,-60.8 891,-60.8"/>
<path fill="none" stroke="black" d="M891,-60.8C891,-58.34 870.83,-56.34 846,-56.34 821.17,-56.34 801,-58.34 801,-60.8"/>
<text text-anchor="middle" x="846" y="-43.75" font-family="Arial, sans-serif" font-size="10.00">🏭 Sistema ERP</text>
<text text-anchor="middle" x="846" y="-32.75" font-family="Arial, sans-serif" font-size="10.00">(SAP/Oracle)</text>
</g>
<!-- ManejadorIntegracion&#45;&gt;SistemaERP -->
<g id="edge19" class="edge">
<title>ManejadorIntegracion&#45;&gt;SistemaERP</title>
<path fill="none" stroke="#9c27b0" d="M915.47,-161.37C900.43,-135.47 879.77,-99.89 864.89,-74.28"/>
<polygon fill="#9c27b0" stroke="#9c27b0" points="867.74,-72.22 859.69,-65.33 861.69,-75.73 867.74,-72.22"/>
<text text-anchor="middle" x="925" y="-111.3" font-family="Arial, sans-serif" font-size="9.00">sincronizar datos</text>
</g>
<!-- CasoUsoCrearProducto -->
<g id="node12" class="node">
<title>CasoUsoCrearProducto</title>
<polygon fill="#90caf9" stroke="black" points="184.5,-939.18 59.5,-939.18 59.5,-892.18 184.5,-892.18 184.5,-939.18"/>
<text text-anchor="middle" x="122" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">⚙️ CrearProducto</text>
<text text-anchor="middle" x="122" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">Caso de Uso</text>
<text text-anchor="middle" x="122" y="-902.18" font-family="Arial, sans-serif" font-size="10.00">publicar(ProductoCreado)</text>
</g>
<!-- CasoUsoCrearProducto&#45;&gt;ProductoCreado -->
<g id="edge1" class="edge">
<title>CasoUsoCrearProducto&#45;&gt;ProductoCreado</title>
<path fill="none" stroke="#2196f3" d="M119.02,-892.17C113.67,-851.87 102.32,-766.23 94.68,-708.53"/>
<polygon fill="#2196f3" stroke="#2196f3" points="98.13,-707.91 93.34,-698.46 91.19,-708.83 98.13,-707.91"/>
<text text-anchor="middle" x="113.5" y="-751.98" font-family="Arial, sans-serif" font-size="9.00">emite</text>
</g>
<!-- CasoUsoActualizarProducto -->
<g id="node13" class="node">
<title>CasoUsoActualizarProducto</title>
<polygon fill="#90caf9" stroke="black" points="387,-939.18 243,-939.18 243,-892.18 387,-892.18 387,-939.18"/>
<text text-anchor="middle" x="315" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">⚙️ ActualizarProducto</text>
<text text-anchor="middle" x="315" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">Caso de Uso</text>
<text text-anchor="middle" x="315" y="-902.18" font-family="Arial, sans-serif" font-size="10.00">publicar(ProductoActualizado)</text>
</g>
<!-- CasoUsoActualizarProducto&#45;&gt;ProductoActualizado -->
<g id="edge2" class="edge">
<title>CasoUsoActualizarProducto&#45;&gt;ProductoActualizado</title>
<path fill="none" stroke="#2196f3" d="M313.81,-892.17C311.58,-850.13 306.73,-758.77 303.68,-701.24"/>
<polygon fill="#2196f3" stroke="#2196f3" points="307.16,-700.71 303.14,-690.91 300.17,-701.08 307.16,-700.71"/>
<text text-anchor="middle" x="318.5" y="-751.98" font-family="Arial, sans-serif" font-size="9.00">emite</text>
</g>
<!-- CasoUsoAumentarStock -->
<g id="node14" class="node">
<title>CasoUsoAumentarStock</title>
<polygon fill="#90caf9" stroke="black" points="569,-939.18 445,-939.18 445,-892.18 569,-892.18 569,-939.18"/>
<text text-anchor="middle" x="507" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">⚙️ AumentarStock</text>
<text text-anchor="middle" x="507" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">Caso de Uso</text>
<text text-anchor="middle" x="507" y="-902.18" font-family="Arial, sans-serif" font-size="10.00">publicar(StockCambiado)</text>
</g>
<!-- CasoUsoAumentarStock&#45;&gt;StockCambiado -->
<g id="edge3" class="edge">
<title>CasoUsoAumentarStock&#45;&gt;StockCambiado</title>
<path fill="none" stroke="#2196f3" d="M507.68,-892.17C508.85,-853.63 511.27,-773.65 513.01,-716.27"/>
<polygon fill="#2196f3" stroke="#2196f3" points="516.51,-716.29 513.32,-706.19 509.51,-716.08 516.51,-716.29"/>
<text text-anchor="middle" x="522.5" y="-751.98" font-family="Arial, sans-serif" font-size="9.00">emite</text>
</g>
<!-- CasoUsoCrearUsuario -->
<g id="node15" class="node">
<title>CasoUsoCrearUsuario</title>
<polygon fill="#90caf9" stroke="black" points="747,-939.18 627,-939.18 627,-892.18 747,-892.18 747,-939.18"/>
<text text-anchor="middle" x="687" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">⚙️ CrearUsuario</text>
<text text-anchor="middle" x="687" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">Caso de Uso</text>
<text text-anchor="middle" x="687" y="-902.18" font-family="Arial, sans-serif" font-size="10.00">publicar(UsuarioCreado)</text>
</g>
<!-- CasoUsoCrearUsuario&#45;&gt;UsuarioCreado -->
<g id="edge4" class="edge">
<title>CasoUsoCrearUsuario&#45;&gt;UsuarioCreado</title>
<path fill="none" stroke="#2196f3" d="M689.13,-892.17C692.95,-851.87 701.05,-766.23 706.52,-708.53"/>
<polygon fill="#2196f3" stroke="#2196f3" points="710.01,-708.74 707.47,-698.46 703.04,-708.08 710.01,-708.74"/>
<text text-anchor="middle" x="713.5" y="-751.98" font-family="Arial, sans-serif" font-size="9.00">emite</text>
</g>
<!-- Suscripciones -->
<g id="node21" class="node">
<title>Suscripciones</title>
<polygon fill="#ffecb3" stroke="black" points="943,-1029.18 805,-1029.18 805,-802.18 949,-802.18 949,-1023.18 943,-1029.18"/>
<polyline fill="none" stroke="black" points="943,-1029.18 943,-1023.18 "/>
<polyline fill="none" stroke="black" points="949,-1023.18 943,-1023.18 "/>
<text text-anchor="middle" x="877" y="-1014.18" font-family="Arial, sans-serif" font-size="10.00">📋 Suscripciones de Eventos</text>
<text text-anchor="middle" x="877" y="-991.18" font-family="Arial, sans-serif" font-size="10.00">producto.creado:</text>
<text text-anchor="middle" x="877" y="-980.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorNotificación</text>
<text text-anchor="middle" x="877" y="-969.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorAuditoría</text>
<text text-anchor="middle" x="877" y="-958.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorAnalíticas</text>
<text text-anchor="middle" x="877" y="-935.18" font-family="Arial, sans-serif" font-size="10.00">producto.actualizado:</text>
<text text-anchor="middle" x="877" y="-924.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorAuditoría</text>
<text text-anchor="middle" x="877" y="-913.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorCache</text>
<text text-anchor="middle" x="877" y="-890.18" font-family="Arial, sans-serif" font-size="10.00">stock.cambiado:</text>
<text text-anchor="middle" x="877" y="-879.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorNotificación</text>
<text text-anchor="middle" x="877" y="-868.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorAnalíticas</text>
<text text-anchor="middle" x="877" y="-857.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorIntegración</text>
<text text-anchor="middle" x="877" y="-834.18" font-family="Arial, sans-serif" font-size="10.00">usuario.creado:</text>
<text text-anchor="middle" x="877" y="-823.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorNotificación</text>
<text text-anchor="middle" x="877" y="-812.18" font-family="Arial, sans-serif" font-size="10.00"> &#160;→ ManejadorAuditoría</text>
</g>
<!-- Patrones -->
<g id="node22" class="node">
<title>Patrones</title>
<polygon fill="#c5cae9" stroke="black" points="1195.5,-1018.18 1018.5,-1018.18 1018.5,-813.18 1201.5,-813.18 1201.5,-1012.18 1195.5,-1018.18"/>
<polyline fill="none" stroke="black" points="1195.5,-1018.18 1195.5,-1012.18 "/>
<polyline fill="none" stroke="black" points="1201.5,-1012.18 1195.5,-1012.18 "/>
<text text-anchor="middle" x="1110" y="-1003.18" font-family="Arial, sans-serif" font-size="10.00">📐 Patrones Comunes</text>
<text text-anchor="middle" x="1110" y="-980.18" font-family="Arial, sans-serif" font-size="10.00">🔄 Publicar&#45;Suscribir</text>
<text text-anchor="middle" x="1110" y="-969.18" font-family="Arial, sans-serif" font-size="10.00">• Acoplamiento débil</text>
<text text-anchor="middle" x="1110" y="-958.18" font-family="Arial, sans-serif" font-size="10.00">• Procesamiento asíncrono</text>
<text text-anchor="middle" x="1110" y="-935.18" font-family="Arial, sans-serif" font-size="10.00">⚡ Abastecimiento de Eventos</text>
<text text-anchor="middle" x="1110" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">• Historial completo de eventos</text>
<text text-anchor="middle" x="1110" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">• Pista de auditoría</text>
<text text-anchor="middle" x="1110" y="-890.18" font-family="Arial, sans-serif" font-size="10.00">🎯 Preparado para CQRS</text>
<text text-anchor="middle" x="1110" y="-879.18" font-family="Arial, sans-serif" font-size="10.00">• Separación Comando/Consulta</text>
<text text-anchor="middle" x="1110" y="-868.18" font-family="Arial, sans-serif" font-size="10.00">• Actualizaciones dirigidas por eventos</text>
<text text-anchor="middle" x="1110" y="-845.18" font-family="Arial, sans-serif" font-size="10.00">🔗 Patrón Saga</text>
<text text-anchor="middle" x="1110" y="-834.18" font-family="Arial, sans-serif" font-size="10.00">• Transacciones distribuidas</text>
<text text-anchor="middle" x="1110" y="-823.18" font-family="Arial, sans-serif" font-size="10.00">• Acciones de compensación</text>
</g>
<!-- Beneficios -->
<g id="node23" class="node">
<title>Beneficios</title>
<polygon fill="#e8f5e8" stroke="#4caf50" points="1398.5,-1018.18 1259.5,-1018.18 1259.5,-813.18 1404.5,-813.18 1404.5,-1012.18 1398.5,-1018.18"/>
<polyline fill="none" stroke="#4caf50" points="1398.5,-1018.18 1398.5,-1012.18 "/>
<polyline fill="none" stroke="#4caf50" points="1404.5,-1012.18 1398.5,-1012.18 "/>
<text text-anchor="middle" x="1332" y="-1003.18" font-family="Arial, sans-serif" font-size="10.00">✨ BENEFICIOS</text>
<text text-anchor="middle" x="1332" y="-980.18" font-family="Arial, sans-serif" font-size="10.00">🔒 Desacoplamiento</text>
<text text-anchor="middle" x="1332" y="-969.18" font-family="Arial, sans-serif" font-size="10.00">• Manejadores independientes</text>
<text text-anchor="middle" x="1332" y="-958.18" font-family="Arial, sans-serif" font-size="10.00">• Sin dependencias directas</text>
<text text-anchor="middle" x="1332" y="-935.18" font-family="Arial, sans-serif" font-size="10.00">⚡ Escalabilidad</text>
<text text-anchor="middle" x="1332" y="-924.18" font-family="Arial, sans-serif" font-size="10.00">• Procesamiento asíncrono</text>
<text text-anchor="middle" x="1332" y="-913.18" font-family="Arial, sans-serif" font-size="10.00">• Escalado horizontal</text>
<text text-anchor="middle" x="1332" y="-890.18" font-family="Arial, sans-serif" font-size="10.00">🔄 Extensibilidad</text>
<text text-anchor="middle" x="1332" y="-879.18" font-family="Arial, sans-serif" font-size="10.00">• Fácil agregar manejadores</text>
<text text-anchor="middle" x="1332" y="-868.18" font-family="Arial, sans-serif" font-size="10.00">• Arquitectura de plugins</text>
<text text-anchor="middle" x="1332" y="-845.18" font-family="Arial, sans-serif" font-size="10.00">📊 Observabilidad</text>
<text text-anchor="middle" x="1332" y="-834.18" font-family="Arial, sans-serif" font-size="10.00">• Seguimiento de eventos</text>
<text text-anchor="middle" x="1332" y="-823.18" font-family="Arial, sans-serif" font-size="10.00">• Monitoreo del sistema</text>
</g>
</g>
</svg>
