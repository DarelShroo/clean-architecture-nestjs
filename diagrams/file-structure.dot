digraph FileStructure {
    rankdir=LR;
    
    graph [
        fontname="Arial, sans-serif"
        fontsize=12
        bgcolor="#f8f9fa"
        style=filled
        pad=0.5
        nodesep=0.4
        ranksep=0.8
    ];
    
    node [
        fontname="Arial, sans-serif"
        fontsize=9
        style=filled
        shape=box
        margin=0.05
    ];
    
    edge [
        fontname="Arial, sans-serif"
        fontsize=8
        color="#666666"
    ];

    // Root del proyecto
    root [
        label="ğŸ“ prueba-clean-architecture\n(Project Root)"
        fillcolor="#e3f2fd"
        color="#1976d2"
        fontsize=11
    ];

    // Src principal
    src [
        label="ğŸ“ src"
        fillcolor="#f3e5f5"
        color="#7b1fa2"
        fontsize=10
    ];

    // Domain Layer
    domain [
        label="ğŸ“ domain\nğŸ§  Core Business Logic"
        fillcolor="#fff3e0"
        color="#f57c00"
    ];

    domain_entities [
        label="ğŸ“ entities\nâ”œâ”€â”€ Product.ts â­\nâ”œâ”€â”€ User.ts â­"
        fillcolor="#ffe0b2"
        shape=note
    ];

    domain_value_objects [
        label="ğŸ“ value-objects\nâ”œâ”€â”€ Email.ts ğŸ’\nâ”œâ”€â”€ Money.ts ğŸ’"
        fillcolor="#ffe0b2"
        shape=note
    ];

    domain_repositories [
        label="ğŸ“ repositories\nâ”œâ”€â”€ IProductRepository.ts ğŸ“‹\nâ”œâ”€â”€ IUserRepository.ts ğŸ“‹"
        fillcolor="#ffe0b2"
        shape=note
    ];

    domain_events [
        label="ğŸ“ events\nâ”œâ”€â”€ DomainEvent.ts ğŸ“¡\nâ”œâ”€â”€ EventBus.ts ğŸšŒ"
        fillcolor="#ffe0b2"
        shape=note
    ];

    domain_errors [
        label="ğŸ“„ errors/DomainError.ts\nâš ï¸ Business Exceptions"
        fillcolor="#ffe0b2"
        shape=note
    ];

    // Application Layer
    application [
        label="ğŸ“ application\nğŸ¢ Use Cases & DTOs"
        fillcolor="#e8f5e8"
        color="#388e3c"
    ];

    app_usecases [
        label="ğŸ“ use-cases\nâ”œâ”€â”€ CreateProduct.ts âš™ï¸\nâ”œâ”€â”€ GetAllProducts.ts âš™ï¸\nâ”œâ”€â”€ UpdateProduct.ts âš™ï¸\nâ”œâ”€â”€ CreateUser.ts âš™ï¸\nâ”œâ”€â”€ ActivateUser.ts âš™ï¸\nâ””â”€â”€ ... (14 files total)"
        fillcolor="#c8e6c9"
        shape=note
    ];

    app_dtos [
        label="ğŸ“ dtos\nâ”œâ”€â”€ CreateProductDTO.ts ğŸ“¨\nâ”œâ”€â”€ ProductResponseDTO.ts ğŸ“¤\nâ”œâ”€â”€ CreateUserDTO.ts ğŸ“¨\nâ”œâ”€â”€ UserResponseDTO.ts ğŸ“¤\nâ””â”€â”€ UpdateXXXDTO.ts files"
        fillcolor="#c8e6c9"
        shape=note
    ];

    app_interfaces [
        label="ğŸ“ interfaces\nâ”œâ”€â”€ ICreateProduct.ts ğŸ”Œ"
        fillcolor="#c8e6c9"
        shape=note
    ];

    // Adapters Layer
    adapters [
        label="ğŸ“ adapters\nğŸ”Œ External Interfaces"
        fillcolor="#f3e5f5"
        color="#7b1fa2"
    ];

    adapters_api [
        label="ğŸ“ api/controllers\nâ”œâ”€â”€ ProductController.ts ğŸ¯\nâ”œâ”€â”€ UserController.ts ğŸ¯"
        fillcolor="#e1bee7"
        shape=note
    ];

    adapters_db [
        label="ğŸ“ db"
        fillcolor="#e1bee7"
    ];

    db_entities [
        label="ğŸ“ db/entities\nâ”œâ”€â”€ ProductEntity.ts ğŸ“Š\nâ”œâ”€â”€ UserEntity.ts ğŸ“Š"
        fillcolor="#d1c4e9"
        shape=note
    ];

    db_repositories [
        label="ğŸ“ db/repositories\nâ”œâ”€â”€ TypeOrmProductRepository.ts ğŸ—ƒï¸\nâ”œâ”€â”€ TypeOrmUserRepository.ts ğŸ—ƒï¸"
        fillcolor="#d1c4e9"
        shape=note
    ];

    db_mappers [
        label="ğŸ“ db/mappers\nâ”œâ”€â”€ ProductMapper.ts ğŸ”„\nâ”œâ”€â”€ UserMapper.ts ğŸ”„"
        fillcolor="#d1c4e9"
        shape=note
    ];

    // Infrastructure Layer
    infrastructure [
        label="ğŸ“ infrastructure\nğŸ”§ Framework Configuration"
        fillcolor="#e8eaf6"
        color="#3f51b5"
    ];

    infra_config [
        label="ğŸ“ config\nâ”œâ”€â”€ database.config.ts âš™ï¸"
        fillcolor="#c5cae9"
        shape=note
    ];

    infra_modules [
        label="ğŸ“ modules\nâ”œâ”€â”€ ProductModule.ts ğŸ“¦\nâ”œâ”€â”€ UserModule.ts ğŸ“¦"
        fillcolor="#c5cae9"
        shape=note
    ];

    // Shared utilities
    shared [
        label="ğŸ“ shared\nğŸ› ï¸ Common Utilities"
        fillcolor="#f1f8e9"
        color="#689f38"
    ];

    shared_utils [
        label="ğŸ“ utils\nâ”œâ”€â”€ IdGenerator.ts ğŸ†”"
        fillcolor="#dcedc8"
        shape=note
    ];

    // Main files
    main_files [
        label="ğŸ“„ Main Files\nâ”œâ”€â”€ main.ts ğŸš€\nâ”œâ”€â”€ app.module.ts ğŸ“±\nâ”œâ”€â”€ app.controller.ts ğŸ®\nâ””â”€â”€ app.service.ts ğŸ”§"
        fillcolor="#f3e5f5"
        shape=note
    ];

    // Test structure
    test [
        label="ğŸ“ test\nğŸ§ª Testing Suite"
        fillcolor="#f3e5f5"
        color="#7b1fa2"
    ];

    test_unit [
        label="ğŸ“ unit\nâ”œâ”€â”€ domain/ ğŸ§ \nâ”‚   â”œâ”€â”€ entities/\nâ”‚   â”œâ”€â”€ value-objects/ ğŸ’\nâ”‚   â””â”€â”€ events/ ğŸ“¡\nâ”œâ”€â”€ application/ ğŸ¢\nâ”‚   â””â”€â”€ use-cases/\nâ””â”€â”€ adapters/ ğŸ”Œ\n    â””â”€â”€ db/mappers/"
        fillcolor="#e1bee7"
        shape=note
    ];

    test_e2e [
        label="ğŸ“ e2e\nâ”œâ”€â”€ app.e2e-spec.ts ğŸ”—"
        fillcolor="#e1bee7"
        shape=note
    ];

    // Config files
    config_files [
        label="ğŸ“„ Config Files\nâ”œâ”€â”€ package.json ğŸ“¦\nâ”œâ”€â”€ tsconfig.json âš™ï¸\nâ”œâ”€â”€ nest-cli.json ğŸ¦\nâ”œâ”€â”€ docker-compose.yml ğŸ³\nâ”œâ”€â”€ Dockerfile ğŸ“‹\nâ”œâ”€â”€ .env / .env.example ğŸ”\nâ””â”€â”€ README.md ğŸ“–"
        fillcolor="#f5f5f5"
        shape=note
    ];

    // Documentation
    docs [
        label="ğŸ“„ Documentation\nâ”œâ”€â”€ README_CLEAN_ARCH.md ğŸ“š\nâ”œâ”€â”€ CLEAN_ARCHITECTURE_IMPROVEMENTS.md ğŸ“ˆ\nâ”œâ”€â”€ DEPLOYMENT_SUMMARY.md ğŸš€\nâ””â”€â”€ TEST_SUMMARY.md ğŸ§ª"
        fillcolor="#e8f5e8"
        shape=note
    ];

    // Connections - JerarquÃ­a de archivos
    root -> src;
    root -> test;
    root -> config_files;
    root -> docs;

    // Src structure
    src -> domain;
    src -> application;
    src -> adapters;
    src -> infrastructure;
    src -> shared;
    src -> main_files;

    // Domain structure
    domain -> domain_entities;
    domain -> domain_value_objects;
    domain -> domain_repositories;
    domain -> domain_events;
    domain -> domain_errors;

    // Application structure
    application -> app_usecases;
    application -> app_dtos;
    application -> app_interfaces;

    // Adapters structure
    adapters -> adapters_api;
    adapters -> adapters_db;
    adapters_db -> db_entities;
    adapters_db -> db_repositories;
    adapters_db -> db_mappers;

    // Infrastructure structure
    infrastructure -> infra_config;
    infrastructure -> infra_modules;

    // Shared structure
    shared -> shared_utils;

    // Test structure
    test -> test_unit;
    test -> test_e2e;

    // Dependency relationships (colored by layer)
    adapters_api -> app_usecases [label="calls" color="#1976d2" style=dashed];
    app_usecases -> domain_entities [label="creates" color="#388e3c" style=dashed];
    app_usecases -> domain_repositories [label="depends" color="#388e3c" style=dashed];
    db_repositories -> domain_repositories [label="implements" color="#7b1fa2" style=dashed];
    db_mappers -> domain_entities [label="converts" color="#7b1fa2" style=dashed];
    domain_entities -> domain_value_objects [label="uses" color="#f57c00" style=dashed];

    // TÃ­tulo
    labelloc="t";
    label=<<B>ğŸ“ Project File Structure - Clean Architecture</B><BR/>
    <I>NestJS TypeScript Project Organization</I><BR/>
    <FONT POINT-SIZE="10">Total: ~50+ files organized by architectural layers</FONT>>;
    fontsize=16;
}
